!(bind! &prompt ((py-atom langchain_core.prompts.ChatPromptTemplate.from_messages) (py-tuple (messages))))
!(bind! &chain (( py-atom langchain.chains.LLMChain )(Kwargs ("llm" (get-langchain-model)) (prompt &prompt))))
(= (respond ($role $message))
    ((py-dot &chain invoke)(py-dict))
)

!(Response (respond (messages)))



